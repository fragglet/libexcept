<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>libexcept: Example code</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.1 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<h1><a class="anchor" name="example">Example code</a></h1>The following is some example code demonstrating how libexcept is used:<p>
<div class="fragment"><pre class="fragment"><span class="preprocessor">    #include &lt;stdio.h&gt;</span>
<span class="preprocessor">    #include &lt;stdlib.h&gt;</span>
<span class="preprocessor">    #include &lt;libexcept.h&gt;</span>

    <span class="comment">/* Exception hierarchy: </span>
<span class="comment">         RectangleException, CircleException extend ShapeException</span>
<span class="comment">         SquareException extends RectangleException </span>
<span class="comment">     */</span>

    <a class="code" href="group__libexcept.html#ga106ff1f216b144471c71ed262bc0e80">ExceptionType</a> ShapeException = EXCEPTION_TYPE(<a class="code" href="group__libexcept.html#g5d8bc397a149b539411cc81725a4c482">BaseException</a>);
    <a class="code" href="group__libexcept.html#ga106ff1f216b144471c71ed262bc0e80">ExceptionType</a> RectangleException = EXCEPTION_TYPE(ShapeException);
    <a class="code" href="group__libexcept.html#ga106ff1f216b144471c71ed262bc0e80">ExceptionType</a> SquareException = EXCEPTION_TYPE(RectangleException);
    <a class="code" href="group__libexcept.html#ga106ff1f216b144471c71ed262bc0e80">ExceptionType</a> CircleException = EXCEPTION_TYPE(ShapeException);

    <span class="keywordtype">void</span> test(<span class="keywordtype">void</span>)
    {
        except_try {
            <a class="code" href="group__libexcept.html#g1a59751c219af394ec4b224d9d77de68">except_raise</a>(SquareException, NULL);
            <a class="code" href="group__libexcept.html#gfaf8e2a1b632f74a559955d18d4a5547">except_assert</a>(1 == 2);
        } except_finally {
            printf(<span class="stringliteral">"Cleaning up at end of test function!\n"</span>);
        } except_end
    }

    <span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[])
    {
        except_try {
            test();
        } except_catch(RectangleException, e) {
            printf(<span class="stringliteral">"Caught a RectangleException!\n"</span>);
        } except_end
    }
</pre></div> <hr size="1"><address style="align: right;"><small>Generated on Sun Sep 9 21:35:15 2007 for libexcept by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.1 </small></address>
</body>
</html>
